<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Pembayaran Berhasil</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f4f7f6; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .struk-card { background: white; width: 400px; padding: 40px; border-radius: 10px; border: 1px dashed #ccc; text-align: center; }
        @media print {
            .btn, a, .no-print { display: none !important; }
            body { background: white; padding: 0; }
            .struk-card { border: none; box-shadow: none; width: 100%; padding: 20px; }
        }
    </style>
</head>
<body>
    <div class="struk-card shadow-sm">
        <h4 class="fw-bold mb-0">DAILY COTTON</h4>
        <p class="text-muted" id="invNum">Invoice: #DC-0000</p>
        <hr>
        <div class="d-flex justify-content-between mb-2">
            <span>Produk:</span> <b id="stNama">-</b>
        </div>
        <div class="d-flex justify-content-between mb-2">
            <span>Warna:</span> <b id="stWarna">-</b>
        </div>
        <div class="d-flex justify-content-between mb-2">
            <span>Ketebalan:</span> <b id="stTebal">-</b>
        </div>
        <div class="d-flex justify-content-between mb-2">
            <span>Jumlah:</span> <b id="stQty">-</b>
        </div>
        <div class="d-flex justify-content-between mb-4">
            <span>Total:</span> <b class="text-danger" id="stTotal">Rp0</b>
        </div>
        <div class="alert alert-success border-success text-success p-2 mb-4">
            âœ” PEMBAYARAN BERHASIL
        </div>
        <button class="btn btn-outline-dark w-100 mb-2 no-print" onclick="window.print()">Cetak Struk</button>
        <button class="btn btn-danger w-100 mb-3 no-print" onclick="location.href='riwayat_belanja.html'">Cek Riwayat Belanja</button>
        <div class="no-print"><a href="user.html" class="text-muted text-decoration-none small">Kembali ke Katalog</a></div>
    </div>

    <script>
    function tampilkanData() {
        const strData = localStorage.getItem("last_order");
        
        if (strData) {
            const data = JSON.parse(strData);
            
            // Mengisi elemen HTML
            document.getElementById("invNum").innerText  = "Invoice: " + data.id;
            document.getElementById("stNama").innerText   = data.produk;
            document.getElementById("stWarna").innerText  = data.warna;
            document.getElementById("stTebal").innerText  = data.tebal + " GSM";
            document.getElementById("stQty").innerText    = data.qty + " Kg";
            document.getElementById("stTotal").innerText  = "Rp" + Number(data.total).toLocaleString("id-ID");
        } else {
            alert("Transaksi tidak ditemukan!");
            window.location.href = "user.html";
        }
    }
    window.onload = tampilkanData;
</script>
</body>
</html>